sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("approval2ui.controller.View1",{onInit:function(){var e=new sap.ui.model.json.JSONModel;e.setData({employee:{firstName:"test",lastName:"",country:"",hireDate:new Date,jobTitle:""}});this.getView().setModel(e,"employee");var t="/employee/";this.getView().bindElement("employee>"+t)},onPressSend:function(){var e=this.getView().getModel("employee").getProperty("/employee");var t={definitionId:"workflowapproval2",context:{empData:{firstName:e.firstName,lastName:e.lastName,country:e.Country,hireDate:e.hireDate,jobTitle:e.jobTitle}}};$.ajax({url:"/approval2ui/bpmworkflowruntime/v1/xsrf-token",method:"GET",headers:{"X-CSRF-Token":"Fetch"},async:false,success:function(e,o,a){var n=a.getResponseHeader("X-CSRF-Token");$.ajax({url:"/approval2ui/bpmworkflowruntime/v1/workflow-instances",type:"POST",data:JSON.stringify(t),headers:{"X-CSRF-Token":n,"Content-Type":"application/json"},async:false,success:function(e){console.log("The workflow is started")},error:function(e){console.log("Error Starting",e)}})}})}})});